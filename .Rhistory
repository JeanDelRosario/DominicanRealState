install.packages(c("dplyr", "GGally", "ggplot2", "skimr"))
apartment_df = read.csv('Apartment.csv', stringsAsFactors = FALSE)
apartment_df['moneda'] = substr(apartment_df$price, 1, 2)
apartment_df['price_num'] = gsub(pattern = ",", "", substr(apartment_df$price, 4, length(apartment_df$price)) ) %>%
as.numeric()
library(dplyr)
library(ggplot2)
library(GGally)
library(skimr)
apartment_df['moneda'] = substr(apartment_df$price, 1, 2)
apartment_df['price_num'] = gsub(pattern = ",", "", substr(apartment_df$price, 4, length(apartment_df$price)) ) %>%
as.numeric()
apartment_df['price_dop'] = ifelse(apartment_df$moneda == 'RD', apartment_df$price_num, apartment_df$price_num*50)
apartment_df['area_num'] = gsub(pattern = "[,mt]", replacement = "", apartment_df$area) %>%
as.numeric()
apartment_df['bathroom'] = apartment_df$bathroom %>% as.numeric()
apartment_df['rooms'] = apartment_df$rooms %>% as.numeric()
apartment_df %>%
ggplot(aes(x = direction, y = price_dop)) +
geom_boxplot()
apartment_df['price_dop']
apartment_df %>% skim
apartment_df %>%
select(area_num, price_dop, rooms, bathroom) %>%
cor(use = "complete.obs")
apartment_df %>%
select(area_num, price_dop, rooms, bathroom) %>%
ggpairs()
apartment_df_clean <- apartment_df %>%
filter(area_num > 0 & area_num < 10000 & bathroom < 20 & price_dop > 0 & price_dop < 300000000 & rooms < 20) %>%
filter(type == "Venta")
apartment_df_clean %>%
select(area_num, price_dop, rooms, bathroom) %>%
ggpairs()
apartment_df_clean %>%
select(area_num, price_dop, rooms, bathroom) %>%
filter(price_dop < 200000000) %>%
ggpairs()
apartment_df_clean %>%
select(area_num, price_dop, rooms, bathroom) %>%
cor(use = "complete.obs")
apartment_df$type %>% distinct()
apartment_df$type %>% unique()
apartment_df_clean_venta <- apartment_df %>%
filter(area_num > 0 & area_num < 10000 & bathroom < 20 & price_dop > 0 & price_dop < 300000000 & rooms < 20) %>%
filter(type == "Venta")
apartment_df_clean_venta %>%
skim
apartment_df_clean_venta %>%
select(area_num, price_dop, rooms, bathroom) %>%
ggpairs()
apartment_df_clean_venta %>%
select(area_num, price_dop, rooms, bathroom) %>%
filter(price_dop < 200000000) %>%
ggpairs()
apartment_df_clean_venta %>%
ggplot(aes(price_dop)) +
geom_density()
install.packages("leaflet")
library(leaflet)
m <- leaflet() %>%
addTiles()
m
m <- leaflet(apartment_df_clean_venta %>%
select(latitude, longitude)) %>%
addTiles()
m
m <- leaflet(apartment_df_clean_venta %>%
select(latitude, longitude)) %>%
addCircles()
m
library(dplyr)
library(ggplot2)
library(GGally)
library(skimr)
apartment_df = read.csv('Apartment.csv', stringsAsFactors = FALSE)
apartment_df['moneda'] = substr(apartment_df$price, 1, 2)
apartment_df['price_num'] = gsub(pattern = ",", "", substr(apartment_df$price, 4, length(apartment_df$price)) ) %>%
as.numeric()
apartment_df['price_dop'] = ifelse(apartment_df$moneda == 'RD', apartment_df$price_num, apartment_df$price_num*50)
apartment_df['area_num'] = gsub(pattern = "[,mt]", replacement = "", apartment_df$area) %>%
as.numeric()
apartment_df['bathroom'] = apartment_df$bathroom %>% as.numeric()
apartment_df['rooms'] = apartment_df$rooms %>% as.numeric()
apartment_df['latitude'] = apartment_df$latitude %>% as.numeric()
apartment_df['longitude'] = apartment_df$longitude %>% as.numeric()
apartment_df %>%
ggplot(aes(x = direction, y = price_dop)) +
geom_boxplot()
apartment_df %>% str
apartment_df %>% skim
apartment_df %>%
select(area_num, price_dop, rooms, bathroom) %>%
cor(use = "complete.obs")
apartment_df %>%
select(area_num, price_dop, rooms, bathroom) %>%
ggpairs()
apartment_df_clean_venta <- apartment_df %>%
filter(area_num > 0 & area_num < 10000 & bathroom < 20 & price_dop > 0 & price_dop < 300000000 & rooms < 20) %>%
filter(type == "Venta")
apartment_df_clean_venta %>%
skim
apartment_df_clean_venta %>%
select(area_num, price_dop, rooms, bathroom) %>%
ggpairs()
apartment_df_clean_venta %>%
select(area_num, price_dop, rooms, bathroom) %>%
filter(price_dop < 200000000) %>%
ggpairs()
apartment_df_clean_venta %>%
ggplot(aes(price_dop)) +
geom_density()
m <- leaflet(apartment_df_clean_venta %>%
select(latitude, longitude)) %>%
addCircles()
m
library(leaflet)
m <- leaflet(apartment_df_clean_venta %>%
select(latitude, longitude)) %>%
addTiles() %>%
addCircles()
m
?addWebGLHeatmap
install.packages("leaflet.extras")
library(leaflet.extras)
m <- leaflet(apartment_df_clean_venta %>%
select(latitude, longitude)) %>%
addTiles() %>%
addWebGLCSVHeatmap()
m <- leaflet(apartment_df_clean_venta %>%
select(latitude, longitude)) %>%
addTiles() %>%
addWebGLHeatmap()
m
m <- leaflet(apartment_df_clean_venta %>%
select(latitude, longitude)) %>%
addTiles() %>%
addWebGLHeatmap(size = 600000)
m
m <- leaflet(apartment_df_clean_venta %>%
select(latitude, longitude)) %>%
addTiles() %>%
addWebGLHeatmap(size = 6000)
m
m <- leaflet(apartment_df_clean_venta %>%
select(latitude, longitude)) %>%
addTiles() %>%
addLegend(values = ~price_dop)
?addLegend
m <- leaflet(apartment_df_clean_venta %>%
select(latitude, longitude)) %>%
addTiles() %>%
addLegend(pal = pal, values = ~price_dop)
pal <- colorNumeric(
palette = "YlGnBu",
domain = apartment_df_clean_venta$price_dop
)
m <- leaflet(apartment_df_clean_venta %>%
select(latitude, longitude)) %>%
addTiles() %>%
addLegend(pal = pal, values = ~price_dop)
m <- leaflet(apartment_df_clean_venta) %>%
addTiles() %>%
addLegend(pal = pal, values = ~price_dop)
m
m <- leaflet(apartment_df_clean_venta) %>%
addTiles() %>%
addCircles() %>%
addLegend(pal = pal, values = ~price_dop)
m
m <- leaflet(apartment_df_clean_venta) %>%
addTiles() %>%
addCircles(color = ~price_dop) %>%
addLegend(pal = pal, values = ~price_dop)
m
m <- leaflet(apartment_df_clean_venta) %>%
addTiles() %>%
addCircles(color = ~pal(price_dop)) %>%
addLegend(pal = pal, values = ~price_dop)
m
m <- apartment_df_clean_venta %>%
filter(price_dop <= 20000000)
m <- apartment_df_clean_venta %>%
filter(price_dop <= 20000000) %>%
leaflet() %>%
addTiles() %>%
addCircles(color = ~pal(price_dop)) %>%
addLegend(pal = pal, values = ~price_dop)
m
apartment_df_clean_venta %>%
filter(price_dop <= 20000000) %>% `$`(price_dop)
pal <- colorNumeric(
palette = "YlGnBu",
domain = apartment_df_clean_venta %>%
filter(price_dop <= 20000000) %>% `$`(price_dop)
)
m <- apartment_df_clean_venta %>%
filter(price_dop <= 20000000) %>%
leaflet() %>%
addTiles() %>%
addCircles(color = ~pal(price_dop)) %>%
addLegend(pal = pal, values = ~price_dop)
m
